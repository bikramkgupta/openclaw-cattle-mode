name: openclaw-v0
region: syd

# V0 scaffold for DigitalOcean App Platform.
# - Use as a Worker (no inbound HTTP required for Telegram long-polling).
# - Instance size pinned to 1cpu/1gb as requested.
#
# NOTE: This uses a GitHub Dockerfile build (no pre-built DOCR image required).

workers:
  - name: openclaw-agent
    github:
      repo: bikramkgupta/openclaw-cattle-mode
      branch: main
      deploy_on_push: false
    # IMPORTANT: build context must be the image folder (Dockerfile uses relative COPY paths).
    source_dir: openclaw-agent-image
    dockerfile_path: Dockerfile
    instance_size_slug: apps-s-1vcpu-1gb-fixed
    instance_count: 1
    envs:
      # Agent identity
      - key: AGENT_ID
        scope: RUN_TIME
        value: "agent-dev"
      - key: AGENT_NAME
        scope: RUN_TIME
        value: "OpenClaw Dev Agent"

      # Telegram (v0: required)
      - key: TELEGRAM_BOT_TOKEN
        scope: RUN_TIME
        type: SECRET
      - key: TELEGRAM_ALLOWFROM
        scope: RUN_TIME
        value: ""

      # Providers
      - key: GRADIENT_API_KEY
        scope: RUN_TIME
        type: SECRET
      - key: OPENAI_API_KEY
        scope: RUN_TIME
        type: SECRET
      - key: ANTHROPIC_API_KEY
        scope: RUN_TIME
        type: SECRET
      - key: AGENT_DEFAULT_MODEL
        scope: RUN_TIME
        value: ""

      # Gateway auth token (required)
      - key: OPENCLAW_GATEWAY_TOKEN
        scope: RUN_TIME
        type: SECRET

      # Object store (DigitalOcean Spaces)
      - key: SPACES_BUCKET
        scope: RUN_TIME
        value: "openclaw-cattle-mode-syd1"
      - key: SPACES_REGION
        scope: RUN_TIME
        value: "syd1"
      - key: SPACES_ACCESS_KEY_ID
        scope: RUN_TIME
        type: SECRET
      - key: SPACES_SECRET_ACCESS_KEY
        scope: RUN_TIME
        type: SECRET
